{% extends 'base.html' %}
{% load humanize %}

{% block contenido %}


<body>
<div class="container">
    <h3>COVID Data</h3>
    <div class="container">
    <table id="tableGlobal" class="table table-sm table-bordered">
    
        <tr>
            <th scope="row">New Confirmed</th>
            <td>{{ contents.Global.NewConfirmed|intcomma }}</td>
            <th scope="row">New Deaths</th>
            <td>{{ contents.Global.NewDeaths|intcomma }}</td>
            <th scope="row">New Recovered</th>
            <td>{{ contents.Global.NewRecovered|intcomma }}</td>
        </tr>
        <tr>
            <th scope="row">Total Confirmed</th>
            <td>{{ contents.Global.TotalConfirmed|intcomma }}</td>
            <th scope="row">Total Deaths</th>
            <td>{{ contents.Global.TotalDeaths|intcomma }}</td>
            <th scope="row">Total Recovered</th>
            <td>{{ contents.Global.TotalRecovered|intcomma }}</td>
        </tr>
    
    </table>
    </div>
    <div class="container">
    <table id='table' class='sortable table table-sm'>
        {% comment %} <form method="{% url "search" %}"> {% endcomment %}
        <form method="GET">
            {% csrf_token %}
            <input type="text">
            <input type="submit" value="Buscar">
            {{ myFilter }}
        </form>
        <tr>
            <th scope="col">Country</th>
            <th scope="col">New Confirmed</th>
            <th scope="col">Total Confirmed</th>
            <th scope="col">New Deaths</th>
            <th scope="col">Total Deaths</th>
            <th scope="col">New Recovered</th>
            <th scope="col">Total Recovered</th>
            <th scope="col">Date</th>
        </tr>
        
        {% for i in contents.Countries %}
        <tr>
            <td>{{ i.Country }}</td>
            <td>{{ i.NewConfirmed|intcomma }}</td>
            <td>{{ i.TotalConfirmed|intcomma }}</td>
            <td>{{ i.NewDeaths|intcomma }}</td>
            <td>{{ i.TotalDeaths|intcomma }}</td>
            <td>{{ i.NewRecovered|intcomma }}</td>
            <td>{{ i.TotalRecovered|intcomma }}</td>
            <td>{{ i.Date|slice:":10"}}</td>
        </tr>
        {% empty %}
            <div>Nothing found</div>
        {% endfor %}
    </table>
    </div>
    {% endblock contenido %}
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js" integrity="sha384-ygbV9kiqUc6oa4msXn9868pTtWMgiQaeYH7/t7LECLbyPA2x65Kgf80OJFdroafW" crossorigin="anonymous"></script>
</div>
</body>
</html>